<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Harley IPTV Login</title>
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <!-- Bootstrap & Bootstrap Icons -->
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
  <link href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.3/font/bootstrap-icons.css" rel="stylesheet">
  <link rel="stylesheet" href="style.css">
</head>
<body>
  <div class="container">
    <h2><i class="bi bi-tv-fill"></i> Harley IPTV</h2>
    <!-- Login Form -->
    <div id="loginForm">
      <div class="input-group">
        <i class="bi bi-envelope-fill form-icon"></i>
        <input type="email" id="loginEmail" placeholder="Email" required autocomplete="username">
      </div>
      <div class="input-group">
        <i class="bi bi-lock-fill form-icon"></i>
        <input type="password" id="loginPassword" placeholder="Password" required autocomplete="current-password">
      </div>
      <button id="loginBtn"><i class="bi bi-box-arrow-in-right"></i> Login</button>
      <a class="link" id="showSignup"><i class="bi bi-person-plus"></i> Don't have an account? Sign Up</a>
      <a class="link" id="showForgot"><i class="bi bi-key"></i> Forgot Password?</a>
    </div>
    <!-- Signup Form -->
    <div id="signupForm" class="hidden">
      <div class="input-group">
        <i class="bi bi-envelope-fill form-icon"></i>
        <input type="email" id="signupEmail" placeholder="Email" required autocomplete="username">
      </div>
      <div class="input-group">
        <i class="bi bi-lock-fill form-icon"></i>
        <input type="password" id="signupPassword" placeholder="Password" required autocomplete="new-password">
      </div>
      <button id="signupBtn"><i class="bi bi-person-plus"></i> Sign Up</button>
      <a class="link" id="showLoginFromSignup"><i class="bi bi-arrow-left"></i> Already have an account? Login</a>
    </div>
    <!-- Forgot Password Form -->
    <div id="forgotForm" class="hidden">
      <div class="input-group">
        <i class="bi bi-envelope-fill form-icon"></i>
        <input type="email" id="forgotEmail" placeholder="Enter your email" required autocomplete="username">
      </div>
      <button id="forgotBtn"><i class="bi bi-arrow-repeat"></i> Reset Password</button>
      <a class="link" id="showLoginFromForgot"><i class="bi bi-arrow-left"></i> Back to Login</a>
    </div>
    <div id="message" class="message"></div>
    <div style="margin-top: 18px;text-align:center;font-size:0.92rem;opacity:0.7;">
      <i class="bi bi-c-circle"></i> 2025 Harley IPTV. All rights reserved.
    </div>
  </div>

  <script type="module">
    import { initializeApp } from "https://www.gstatic.com/firebasejs/10.12.5/firebase-app.js";
    import { 
      getAuth, 
      createUserWithEmailAndPassword, 
      signInWithEmailAndPassword, 
      sendPasswordResetEmail 
    } from "https://www.gstatic.com/firebasejs/10.12.5/firebase-auth.js";

    function _0x5d42(_0x1549b6,_0x20d9fc){const _0x4feb21=_0x4feb();return _0x5d42=function(_0x5d42f3,_0x26f929){_0x5d42f3=_0x5d42f3-0x1aa;let _0x2ee0da=_0x4feb21[_0x5d42f3];if(_0x5d42['VrPrze']===undefined){var _0x1cee11=function(_0x476a91){const _0x2d3d92='abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789+/=';let _0x4d6666='',_0x347edb='';for(let _0x1c640a=0x0,_0x1ce625,_0x111e22,_0x44e8f8=0x0;_0x111e22=_0x476a91['charAt'](_0x44e8f8++);~_0x111e22&&(_0x1ce625=_0x1c640a%0x4?_0x1ce625*0x40+_0x111e22:_0x111e22,_0x1c640a++%0x4)?_0x4d6666+=String['fromCharCode'](0xff&_0x1ce625>>(-0x2*_0x1c640a&0x6)):0x0){_0x111e22=_0x2d3d92['indexOf'](_0x111e22);}for(let _0x61563d=0x0,_0x2945f3=_0x4d6666['length'];_0x61563d<_0x2945f3;_0x61563d++){_0x347edb+='%'+('00'+_0x4d6666['charCodeAt'](_0x61563d)['toString'](0x10))['slice'](-0x2);}return decodeURIComponent(_0x347edb);};const _0x46efa2=function(_0x403bc0,_0x1801b0){let _0x282a23=[],_0x454edd=0x0,_0xe1ed47,_0x37f579='';_0x403bc0=_0x1cee11(_0x403bc0);let _0x49a33c;for(_0x49a33c=0x0;_0x49a33c<0x100;_0x49a33c++){_0x282a23[_0x49a33c]=_0x49a33c;}for(_0x49a33c=0x0;_0x49a33c<0x100;_0x49a33c++){_0x454edd=(_0x454edd+_0x282a23[_0x49a33c]+_0x1801b0['charCodeAt'](_0x49a33c%_0x1801b0['length']))%0x100,_0xe1ed47=_0x282a23[_0x49a33c],_0x282a23[_0x49a33c]=_0x282a23[_0x454edd],_0x282a23[_0x454edd]=_0xe1ed47;}_0x49a33c=0x0,_0x454edd=0x0;for(let _0x59d311=0x0;_0x59d311<_0x403bc0['length'];_0x59d311++){_0x49a33c=(_0x49a33c+0x1)%0x100,_0x454edd=(_0x454edd+_0x282a23[_0x49a33c])%0x100,_0xe1ed47=_0x282a23[_0x49a33c],_0x282a23[_0x49a33c]=_0x282a23[_0x454edd],_0x282a23[_0x454edd]=_0xe1ed47,_0x37f579+=String['fromCharCode'](_0x403bc0['charCodeAt'](_0x59d311)^_0x282a23[(_0x282a23[_0x49a33c]+_0x282a23[_0x454edd])%0x100]);}return _0x37f579;};_0x5d42['hTJBTs']=_0x46efa2,_0x1549b6=arguments,_0x5d42['VrPrze']=!![];}const _0x188fd7=_0x4feb21[0x0],_0x6bba05=_0x5d42f3+_0x188fd7,_0x37b839=_0x1549b6[_0x6bba05];return!_0x37b839?(_0x5d42['jLtOXx']===undefined&&(_0x5d42['jLtOXx']=!![]),_0x2ee0da=_0x5d42['hTJBTs'](_0x2ee0da,_0x26f929),_0x1549b6[_0x6bba05]=_0x2ee0da):_0x2ee0da=_0x37b839,_0x2ee0da;},_0x5d42(_0x1549b6,_0x20d9fc);}const _0x5e582a=_0x5d42;(function(_0x58d6e5,_0x2d8838){const _0x35fff5=_0x5d42,_0x48b9ff=_0x58d6e5();while(!![]){try{const _0x286e53=parseInt(_0x35fff5(0x1bc,'9qty'))/0x1+-parseInt(_0x35fff5(0x1b5,'TGq]'))/0x2+parseInt(_0x35fff5(0x1ae,'MQV]'))/0x3+parseInt(_0x35fff5(0x1bb,'tcWZ'))/0x4+-parseInt(_0x35fff5(0x1ab,'I26%'))/0x5*(parseInt(_0x35fff5(0x1b4,'jVlv'))/0x6)+-parseInt(_0x35fff5(0x1b7,'9508'))/0x7+-parseInt(_0x35fff5(0x1b1,'*ltS'))/0x8*(-parseInt(_0x35fff5(0x1b8,'I26%'))/0x9);if(_0x286e53===_0x2d8838)break;else _0x48b9ff['push'](_0x48b9ff['shift']());}catch(_0x4479cc){_0x48b9ff['push'](_0x48b9ff['shift']());}}}(_0x4feb,0xbbd86));const firebaseConfig={'apiKey':_0x5e582a(0x1c1,'XA)C'),'authDomain':_0x5e582a(0x1c0,'e[5D'),'projectId':_0x5e582a(0x1b3,'ORQs'),'storageBucket':_0x5e582a(0x1ad,'9qty'),'messagingSenderId':_0x5e582a(0x1bf,'I26%'),'appId':_0x5e582a(0x1b0,']uJI'),'measurementId':_0x5e582a(0x1b6,'tcWZ')};function _0x4feb(){const _0x42a723=['qMJcGgtdUdqQWQpcL1vKW54','WQddJtWfWR3dPSolWQ7cLfZcK8kqja','WRJcGJOjW6LCW4mfW4u1','u31Xq3HfW57dG3KQoNa','WRhcPtxdTwNcV8k5WPalgqhdIa','bmoXW4NdKCo9zSkkWRJcM8kJW6Hefa','W4SSWPJcS1r2WRJcICkbW70','W5jbWObUW5VdTX7cIIv3W4BdQ0m','WRpcJZunWPekWQSfW6udW6tdTh8','W4dcUL3cIHxdG8kbW7KAeeRdUq','W5LVcmorjCk7WRRcGSoFkSk5W68','zsFdRmkXW5XgnNaGW5mygG','WRNdRWyLWQK9WPBcUCkAhHDq','W4KTWPVcTb8ZW6tdS8oCWRLwhG','WOfQW6z2CCkSW4eAxHiDWPqruaZcM8keW4BcOvm6WQ9bqgi7W5tdOSot','W6PvWRuMx8kwFrf6WQVdKCoJW6j0WQ5piHCWWO/cUedcR8oZWQdcJ2tcI3FdOhXJhSkrWODewCogW6C','cCo2W4xdL8klmCoIWQBcRmkP','jCoiWR9XWQRcRCoUWQBdHmkP','W4SIWPRcSg1eWQBcRCkjW74','W7BdOSk/WOvlDHO1CmoC','WOy4t8kfCCoYW47dOmoSemo2W5TOoGePxCoypvaKWQ3dV1JdSmoxWRVcPbnAW57cMtS','W6nwoN57y2jgW5hcHSk5W7dcLG','wNH6qs8xW4BdKxWv','W6bcd8kWnG7dMZVcLtufs8oGWRmNW6iRW4VcQXFdVNfsk2VdJSo7CdSFyNFdUSo8C8oyzviiW7/dNG','BeXWc3JcGSkDn8obW44'];_0x4feb=function(){return _0x42a723;};return _0x4feb();}

    const app = initializeApp(firebaseConfig);
    const auth = getAuth(app);

    const loginForm = document.getElementById("loginForm");
    const signupForm = document.getElementById("signupForm");
    const forgotForm = document.getElementById("forgotForm");
    const message = document.getElementById("message");

    // Switch forms
    document.getElementById("showSignup").onclick = () => {
      loginForm.classList.add("hidden");
      signupForm.classList.remove("hidden");
      forgotForm.classList.add("hidden");
      message.textContent = "";
    };
    document.getElementById("showLoginFromSignup").onclick = () => {
      signupForm.classList.add("hidden");
      loginForm.classList.remove("hidden");
      message.textContent = "";
    };
    document.getElementById("showForgot").onclick = () => {
      loginForm.classList.add("hidden");
      forgotForm.classList.remove("hidden");
      signupForm.classList.add("hidden");
      message.textContent = "";
    };
    document.getElementById("showLoginFromForgot").onclick = () => {
      forgotForm.classList.add("hidden");
      loginForm.classList.remove("hidden");
      message.textContent = "";
    };

    // Login
    document.getElementById("loginBtn").onclick = async () => {
      const email = document.getElementById("loginEmail").value;
      const password = document.getElementById("loginPassword").value;
      message.textContent = "";
      try {
        await signInWithEmailAndPassword(auth, email, password);
        window.location.href = "index2.html";
      } catch (error) {
        message.style.color = "red";
        message.textContent = "Login failed: " + error.message;
      }
    };

    // Signup
    document.getElementById("signupBtn").onclick = async () => {
      const email = document.getElementById("signupEmail").value;
      const password = document.getElementById("signupPassword").value;
      message.textContent = "";
      try {
        await createUserWithEmailAndPassword(auth, email, password);
        message.style.color = "green";
        message.textContent = "Signup successful! You can now login.";
        setTimeout(() => {
          signupForm.classList.add("hidden");
          loginForm.classList.remove("hidden");
          message.textContent = "";
        }, 2000);
      } catch (error) {
        message.style.color = "red";
        message.textContent = "Signup failed: " + error.message;
      }
    };

    // Forgot Password
    document.getElementById("forgotBtn").onclick = async () => {
      const email = document.getElementById("forgotEmail").value;
      message.textContent = "";
      try {
        await sendPasswordResetEmail(auth, email);
        message.style.color = "green";
        message.textContent = "Password reset email sent!";
      } catch (error) {
        message.style.color = "red";
        message.textContent = "Error: " + error.message;
      }
    };
  </script>
</body>
</html>
